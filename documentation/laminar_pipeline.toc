\contentsline {section}{\numberline {1}About this Document}{7}{section.1}
\contentsline {section}{\numberline {2}Before starting}{7}{section.2}
\contentsline {subsection}{\numberline {2.1}Pre- requisites}{8}{subsection.2.1}
\contentsline {subsection}{\numberline {2.2}Folder structure}{9}{subsection.2.2}
\contentsline {subsection}{\numberline {2.3}How things work}{9}{subsection.2.3}
\contentsline {section}{\numberline {3}Helper files}{10}{section.3}
\contentsline {subsection}{\numberline {3.1}acquisition\_parameters.txt}{10}{subsection.3.1}
\contentsline {subsection}{\numberline {3.2}b02b0.cnf}{11}{subsection.3.2}
\contentsline {subsection}{\numberline {3.3}params.mat}{11}{subsection.3.3}
\contentsline {subsection}{\numberline {3.4}images.mat}{11}{subsection.3.4}
\contentsline {section}{\numberline {4}qsub}{11}{section.4}
\contentsline {section}{\numberline {5}Quick Start}{14}{section.5}
\contentsline {subsection}{\numberline {5.1}first steps}{14}{subsection.5.1}
\contentsline {subsection}{\numberline {5.2}fMRI pre-processing}{15}{subsection.5.2}
\contentsline {subsection}{\numberline {5.3}fMRI - anatomical co-registration and masks}{16}{subsection.5.3}
\contentsline {subsection}{\numberline {5.4}pRF mapping}{17}{subsection.5.4}
\contentsline {subsection}{\numberline {5.5}fMRI layer segmentation}{19}{subsection.5.5}
\contentsline {subsection}{\numberline {5.6}EEG pre-processing}{21}{subsection.5.6}
\contentsline {subsection}{\numberline {5.7}EEG prepare head and source models}{22}{subsection.5.7}
\contentsline {subsection}{\numberline {5.8}EEG compute virtual channels}{23}{subsection.5.8}
\contentsline {section}{\numberline {6}Scripts explained (support for runonqsub.sh: Q)}{25}{section.6}
\contentsline {subsection}{\numberline {6.1}getToolboxes.sh}{25}{subsection.6.1}
\contentsline {subsection}{\numberline {6.2}runonqsub.sh}{25}{subsection.6.2}
\contentsline {subsection}{\numberline {6.3}cleanscriptsfolder.sh}{26}{subsection.6.3}
\contentsline {subsection}{\numberline {6.4}liveupdateqsub.sh}{26}{subsection.6.4}
\contentsline {subsection}{\numberline {6.5}waitForJobs.sh}{26}{subsection.6.5}
\contentsline {subsection}{\numberline {6.6}makenewsubject.sh}{26}{subsection.6.6}
\contentsline {subsection}{\numberline {6.7}setupfolders.sh (Q)}{27}{subsection.6.7}
\contentsline {subsection}{\numberline {6.8}do\_preparefunctionals.sh (Q)}{27}{subsection.6.8}
\contentsline {subsection}{\numberline {6.9}do\_realignment.sh (Q)}{27}{subsection.6.9}
\contentsline {subsection}{\numberline {6.10}do\_distcorr.sh (Q)}{27}{subsection.6.10}
\contentsline {subsection}{\numberline {6.11}do\_applysimpledistcorr.sh (Q)}{28}{subsection.6.11}
\contentsline {subsection}{\numberline {6.12}do\_preparecoregistration.sh (Q)}{28}{subsection.6.12}
\contentsline {subsection}{\numberline {6.13}do\_correctavgdiff.sh (Q)}{29}{subsection.6.13}
\contentsline {subsection}{\numberline {6.14}do\_fsrecon.sh (Q)}{29}{subsection.6.14}
\contentsline {subsection}{\numberline {6.15}do\_coregistration.sh}{29}{subsection.6.15}
\contentsline {subsection}{\numberline {6.16}do\_coregistration.m}{29}{subsection.6.16}
\contentsline {subsection}{\numberline {6.17}do\_makemasksandlabels.sh (Q)}{30}{subsection.6.17}
\contentsline {subsection}{\numberline {6.18}do\_movesinglevolume.sh}{30}{subsection.6.18}
\contentsline {subsection}{\numberline {6.19}do\_tseriesinterpolation.sh}{31}{subsection.6.19}
\contentsline {subsection}{\numberline {6.20}do\_tseriesinterpolation.m}{31}{subsection.6.20}
\contentsline {subsection}{\numberline {6.21}do\_split\_analyzePRF.sh}{31}{subsection.6.21}
\contentsline {subsection}{\numberline {6.22}do\_analyzePRF.sh}{32}{subsection.6.22}
\contentsline {subsection}{\numberline {6.23}do\_analyzePRF.m}{32}{subsection.6.23}
\contentsline {subsection}{\numberline {6.24}combine\_split\_PRF\_results.sh}{32}{subsection.6.24}
\contentsline {subsection}{\numberline {6.25}combine\_split\_PRF\_results.m}{32}{subsection.6.25}
\contentsline {subsection}{\numberline {6.26}make\_PRF\_overlays.sh}{33}{subsection.6.26}
\contentsline {subsection}{\numberline {6.27}make\_PRF\_overlays.m}{33}{subsection.6.27}
\contentsline {subsection}{\numberline {6.28}makeOverlays.sh (Q)}{33}{subsection.6.28}
\contentsline {subsection}{\numberline {6.29}GUI2ROIs.sh}{34}{subsection.6.29}
\contentsline {subsection}{\numberline {6.30}labels2masks.sh (Q)}{34}{subsection.6.30}
\contentsline {subsection}{\numberline {6.31}expandROIs.sh}{34}{subsection.6.31}
\contentsline {subsection}{\numberline {6.32}expandROIs.m}{34}{subsection.6.32}
\contentsline {subsection}{\numberline {6.33}do\_getLayers.sh}{35}{subsection.6.33}
\contentsline {subsection}{\numberline {6.34}do\_getLayers.m}{35}{subsection.6.34}
\contentsline {subsection}{\numberline {6.35}do\_getLayerWeights.sh}{35}{subsection.6.35}
\contentsline {subsection}{\numberline {6.36}do\_getLayerWeights.m}{36}{subsection.6.36}
\contentsline {subsection}{\numberline {6.37}do\_EEGpreprocessing.sh}{36}{subsection.6.37}
\contentsline {subsection}{\numberline {6.38}do\_EEGpreprocessing.m}{36}{subsection.6.38}
\contentsline {subsection}{\numberline {6.39}do\_EEGprepareFS.sh}{36}{subsection.6.39}
\contentsline {subsection}{\numberline {6.40}do\_EEGprepareHeadmodel.sh}{37}{subsection.6.40}
\contentsline {subsection}{\numberline {6.41}do\_EEGprepareHeadmodel.m}{37}{subsection.6.41}
\contentsline {subsection}{\numberline {6.42}do\_EEGelectrodeRegistration.m}{37}{subsection.6.42}
\contentsline {subsection}{\numberline {6.43}do\_EEGprepareSourcemodel.sh}{37}{subsection.6.43}
\contentsline {subsection}{\numberline {6.44}do\_EEGprepareSourcemodel.m}{38}{subsection.6.44}
\contentsline {subsection}{\numberline {6.45}do\_EEGtimelock.sh}{38}{subsection.6.45}
\contentsline {subsection}{\numberline {6.46}do\_EEGtimelock.m}{38}{subsection.6.46}
\contentsline {subsection}{\numberline {6.47}do\_EEGsplitBeamformer.sh}{38}{subsection.6.47}
\contentsline {subsection}{\numberline {6.48}do\_EEGbeamformer.sh}{38}{subsection.6.48}
\contentsline {subsection}{\numberline {6.49}do\_EEGbeamformer.m}{38}{subsection.6.49}
\contentsline {subsection}{\numberline {6.50}do\_EEGsplitVirtualChannel.sh}{38}{subsection.6.50}
\contentsline {subsection}{\numberline {6.51}do\_EEGvirtualChannel.sh}{39}{subsection.6.51}
\contentsline {subsection}{\numberline {6.52}do\_EEGvirtualChannel.m}{39}{subsection.6.52}
\contentsline {subsection}{\numberline {6.53}do\_EEGsplitFreqOnVirtChan.sh}{39}{subsection.6.53}
\contentsline {subsection}{\numberline {6.54}do\_EEGfreqOnVirtChan.sh}{39}{subsection.6.54}
\contentsline {subsection}{\numberline {6.55}do\_EEGfreqOnVirtChan.m}{39}{subsection.6.55}
\contentsline {subsection}{\numberline {6.56}do\_EEGfreqChanSelect.sh}{39}{subsection.6.56}
\contentsline {subsection}{\numberline {6.57}do\_EEGfreqChanSelect.m}{39}{subsection.6.57}
\contentsline {subsection}{\numberline {6.58}EEGvisualizeVirtualChannel.m}{39}{subsection.6.58}
\contentsline {section}{\numberline {7}How to: Selecting visual areas based on pRF mapping}{39}{section.7}
\contentsline {section}{\numberline {8}How to: EEG electrodes from photogrammetry}{39}{section.8}
\contentsline {section}{\numberline {9}How to: Pipelines}{40}{section.9}
\contentsline {subsection}{\numberline {9.1}Scripts}{40}{subsection.9.1}
\contentsline {subsection}{\numberline {9.2}Tommy's Scriptinator 3000 TM}{40}{subsection.9.2}
